from telegram import Update
from telegram.ext import Application, CommandHandler
import requests
from urllib.parse import quote
from datetime import datetime, timedelta
from telegram import InlineKeyboardButton, InlineKeyboardMarkup
from telegram.ext import CallbackQueryHandler, ContextTypes

OPENWEATHER_API_KEY = '56bb63e80dffbf8c0927aee1f19a5711'  
TELEGRAM_API_KEY = '8056144402:AAF4KYQ5QuD13vYOcgaJ-tfkgG7K1fuNwt0'  

def get_weather(city):
    url = f"http://api.openweathermap.org/data/2.5/weather?q={city}&appid={OPENWEATHER_API_KEY}&units=metric&lang=ru"
    otvet = requests.get(url)
    data = otvet.json()
    if data["cod"] != "404":
        main = data["main"]
        temp = main["temp"]
        weather_description = data["weather"][0]["description"]
        return temp, weather_description
    else:
        return None, None

async def weather(update: Update, context) -> None:
    if context.args:
        city = ' '.join(context.args)
        temp, weather_description = get_weather(city)
        if temp is not None:
            recommendations = get_clothing_recommendations(temp)
            await update.message.reply_text(
                f"{city}: {temp}¬∞C, –∞ –Ω–∞ —É–ª–∏—Ü–∞—Ö, –∫–∞–∫ –≥–æ–≤–æ—Ä—è—Ç, {weather_description}. –ù–µ –ø—Ä–∞–≤–¥–∞ –ª–∏, –Ω–µ–º–Ω–æ–≥–æ –º–∞–≥–∏–∏ –≤ –≤–æ–∑–¥—É—Ö–µ?\n"
                f" {recommendations}. –ù—É –∞ —á—Ç–æ –≤—ã —Ö–æ—Ç–µ–ª–∏, —á—Ç–æ–±—ã —Å–∏—è—Ç—å, –Ω—É–∂–Ω–æ –±—ã—Ç—å –≥–æ—Ç–æ–≤—ã–º!"
            )
        else:
            await update.message.reply_text(
                "–ê—Ö, –∫–∞–∂–µ—Ç—Å—è, –≥–æ—Ä–æ–¥ —ç—Ç–æ—Ç –¥–∞–∂–µ –Ω–∞ –º–æ–∏—Ö —Å—Ç–∏–ª–∏—Å—Ç–∏—á–µ—Å–∫–∏—Ö –∫–∞—Ä—Ç–∞—Ö –Ω–µ –æ—Ç–º–µ—á–µ–Ω! –£—Ç–æ—á–Ω–∏—Ç–µ –µ–≥–æ, –¥–æ—Ä–æ–≥—É—à–∞, –∏ —è –º–∏–≥–æ–º –ø–æ–º–æ–≥—É!"
            )
    else:
        await update.message.reply_text(
            "–ê—Ö, –∫–∞–∫ –∂–µ —è –º–æ–≥—É —Ç–≤–æ—Ä–∏—Ç—å —Å—Ç–∏–ª—å–Ω—ã–µ —á—É–¥–µ—Å–∞, –µ—Å–ª–∏ –Ω–µ –∑–Ω–∞—é, –≥–¥–µ –≤—ã –Ω–∞—Ö–æ–¥–∏—Ç–µ—Å—å? –ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –Ω–∞–∑–æ–≤–∏—Ç–µ –≥–æ—Ä–æ–¥, –∏ —è —Ç—É—Ç –∂–µ –∫ –≤–∞—à–∏–º —É—Å–ª—É–≥–∞–º!"
        )

face_form = {
    '–∫—Ä—É–≥–ª–∞—è': "–ê—Ö, –∫—Ä—É–≥–ª–∞—è —Ñ–æ—Ä–º–∞ –ª–∏—Ü–∞! –Ø –±—ã –ø—Ä–µ–¥–ª–æ–∂–∏–ª –≤–∞–º –∞—Å–∏–º–º–µ—Ç—Ä–∏—á–Ω—ã–µ —Å—Ç—Ä–∏–∂–∫–∏ ‚Äî —É–¥–ª–∏–Ω—ë–Ω–Ω—ã–π –±–æ–± –∏–ª–∏ –∫–∞—Å–∫–∞–¥! –ù–µ–º–Ω–æ–≥–æ –¥–µ—Ä–∑–æ—Å—Ç–∏, –Ω–µ–º–Ω–æ–≥–æ —Å—Ç–∏–ª—è, –∏ –≤—ã –±—É–¥–µ—Ç–µ –±–ª–∏—Å—Ç–∞—Ç—å!",
    '–æ–≤–∞–ª—å–Ω–∞—è': "–û–≤–∞–ª—å–Ω–∞—è —Ñ–æ—Ä–º–∞ –ª–∏—Ü–∞? –ù—É, —á—Ç–æ —Ç—É—Ç —Å–∫–∞–∑–∞—Ç—å, –≤–∞–º –ø–æ–¥—Ö–æ–¥—è—Ç –ø—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏ –≤—Å–µ —Å—Ç—Ä–∏–∂–∫–∏! –ü–æ–ø—Ä–æ–±—É–π—Ç–µ –ø–∏–∫—Å–∏ –∏–ª–∏ –ª–æ–Ω–≥-–±–æ–±, –∏ —É—Å–ø–µ—Ö –æ–±–µ—Å–ø–µ—á–µ–Ω, –¥–æ—Ä–æ–≥–∞—è –º–æ—è –∑–≤–µ–∑–¥–∞!",
    '–∫–≤–∞–¥—Ä–∞—Ç–Ω–∞—è': "–ö–≤–∞–¥—Ä–∞—Ç–Ω–∞—è —Ñ–æ—Ä–º–∞ –ª–∏—Ü–∞? –≠—Ç–æ –∑–Ω–∞—á–∏—Ç, —á—Ç–æ –≤–∞–º –Ω—É–∂–Ω—ã –º—è–≥–∫–∏–µ –≤–æ–ª–Ω—ã! –ö–∞—Ä–µ —Å —Ä–≤–∞–Ω—ã–º–∏ –∫—Ä–∞—è–º–∏ –∏–ª–∏ –∫–∞—Å–∫–∞–¥ ‚Äî –∏–¥–µ–∞–ª—å–Ω—ã–π –≤—ã–±–æ—Ä –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è —Ä–æ–º–∞–Ω—Ç–∏—á–Ω–æ–≥–æ, –Ω–æ —É–≤–µ—Ä–µ–Ω–Ω–æ–≥–æ –æ–±—Ä–∞–∑–∞!",
    '—Ç—Ä–µ—É–≥–æ–ª—å–Ω–∞—è': "–¢—Ä–µ—É–≥–æ–ª—å–Ω–∞—è —Ñ–æ—Ä–º–∞ –ª–∏—Ü–∞? –û-–ª—è-–ª—è, –≤–∞–º –ø–æ–¥–æ–π–¥—É—Ç —Å—Ç—Ä–∏–∂–∫–∏ —Å –æ–±—ä—ë–º–æ–º –Ω–∞–≤–µ—Ä—Ö—É! –ë–æ–± —Å –æ–±—ä—ë–º–æ–º –Ω–∞ –º–∞–∫—É—à–∫–µ —Å–¥–µ–ª–∞–µ—Ç –≤–∞—à –æ–±—Ä–∞–∑ –ø—Ä–æ—Å—Ç–æ –æ—Å–ª–µ–ø–∏—Ç–µ–ª—å–Ω—ã–º!",
    '—Ä–æ–º–±–æ–≤–∏–¥–Ω–∞—è': "–†–æ–º–±–æ–≤–∏–¥–Ω–∞—è —Ñ–æ—Ä–º–∞ –ª–∏—Ü–∞ ‚Äî –æ, –∫–∞–∫ –∑–∞–≥–∞–¥–æ—á–Ω–æ! –ü–æ–ø—Ä–æ–±—É–π—Ç–µ —Å—Ç—Ä–∏–∂–∫–∏ —Å —á—ë–ª–∫–æ–π –∏–ª–∏ –æ–±—ä—ë–º–æ–º –Ω–∞ —É—Ä–æ–≤–Ω–µ –ø–æ–¥–±–æ—Ä–æ–¥–∫–∞, —É–¥–ª–∏–Ω—ë–Ω–Ω–æ–µ –∫–∞—Ä–µ, —á—Ç–æ–±—ã –æ—á–∞—Ä–æ–≤–∞—Ç—å –≤—Å–µ—Ö –≤–æ–∫—Ä—É–≥!"
}

async def recommend_hairstyle(update: Update, context: ContextTypes.DEFAULT_TYPE) -> None:
    keyboard = [
        [InlineKeyboardButton("–ö—Ä—É–≥–ª–∞—è", callback_data='–∫—Ä—É–≥–ª–∞—è')],
        [InlineKeyboardButton("–û–≤–∞–ª—å–Ω–∞—è", callback_data='–æ–≤–∞–ª—å–Ω–∞—è')],
        [InlineKeyboardButton("–ö–≤–∞–¥—Ä–∞—Ç–Ω–∞—è", callback_data='–∫–≤–∞–¥—Ä–∞—Ç–Ω–∞—è')],
        [InlineKeyboardButton("–¢—Ä–µ—É–≥–æ–ª—å–Ω–∞—è", callback_data='—Ç—Ä–µ—É–≥–æ–ª—å–Ω–∞—è')],
        [InlineKeyboardButton("–†–æ–º–±–æ–≤–∏–¥–Ω–∞—è", callback_data='—Ä–æ–º–±–æ–≤–∏–¥–Ω–∞—è')]
    ]
    reply_keyboard = InlineKeyboardMarkup(keyboard)
    await update.message.reply_text("–í—ã–±–µ—Ä–∏—Ç–µ —Å–≤–æ—é —Ñ–æ—Ä–º—É –ª–∏—Ü–∞, –¥–æ—Ä–æ–≥—É—à–∞, –∏ —è –º–∏–≥–æ–º —Ä–∞—Å—Å–∫–∞–∂—É –≤–∞–º, –∫–∞–∫ —Å—Ç–∞—Ç—å –Ω–∞—Å—Ç–æ—è—â–µ–π –∏–∫–æ–Ω–æ–π —Å—Ç–∏–ª—è:", reply_markup=reply_keyboard)

async def button(update: Update, context: ContextTypes.DEFAULT_TYPE) -> None:
    query = update.callback_query
    await query.answer()
    
    selected_shape = query.data
    recommendation = face_form.get(selected_shape, "–ê—Ö, –∫–∞–∂–µ—Ç—Å—è, —è –Ω–µ –∑–Ω–∞—é —Ç–∞–∫–æ–π —Ñ–æ—Ä–º—ã –ª–∏—Ü–∞. –ú–æ–∂–µ—Ç, —ç—Ç–æ –∫–∞–∫–æ–π-—Ç–æ —Å–∫—Ä—ã—Ç—ã–π —à–µ–¥–µ–≤—Ä?")
    
    await query.edit_message_text(text=f"–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –¥–ª—è –≤–∞—à–µ–π –ø—Ä–µ–∫—Ä–∞—Å–Ω–æ–π —Ñ–æ—Ä–º—ã –ª–∏—Ü–∞:\n{recommendation}")

async def start(update: Update, context) -> None:
    await update.message.reply_text(
        "üé© –ê—Ö, –¥–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å, –º–æ–π –¥–æ—Ä–æ–≥–æ–π –¥—Ä—É–≥! –Ø ‚Äî –≤–∞—à –≤–µ—Ä–Ω—ã–π —Å—Ç–∏–ª–∏—Å—Ç –Æ–ª–∏–∞–Ω, –≥–æ—Ç–æ–≤—ã–π –ø—Ä–æ–≤–µ—Å—Ç–∏ –≤–∞—Å –ø–æ –º–∏—Ä—É —Å—Ç–∏–ª—è –∏ –º–æ–¥—ã!‚ú®\n\n"
        "–ü–æ–∫–∞–∂–∏—Ç–µ –º–Ω–µ, —á—Ç–æ –≤–∞—Å –∏–Ω—Ç–µ—Ä–µ—Å—É–µ—Ç, –∏ —è —Å —Ä–∞–¥–æ—Å—Ç—å—é –ø–æ–º–æ–≥—É –≤–∞–º! –í–æ—Ç –∫–∞–∫ –≤—ã –º–æ–∂–µ—Ç–µ –≤–æ—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å—Å—è –º–æ–∏–º–∏ —É—Å–ª—É–≥–∞–º–∏:\n\n"
        "üå§Ô∏è –ü–æ–≥–æ–¥–∞:\n"
        "–°–∫–∞–∂–∏—Ç–µ –º–Ω–µ –∫–æ–º–∞–Ω–¥—É /weather <–Ω–∞–∑–≤–∞–Ω–∏–µ –≥–æ—Ä–æ–¥–∞>, –∏ —è —Ä–∞—Å—Å–∫–∞–∂—É –≤–∞–º –æ –ø–æ–≥–æ–¥–µ –≤ –≤–∞—à–µ–º –ª—é–±–∏–º–æ–º –≥–æ—Ä–æ–¥–µ. –ù–µ —Ç–æ–ª—å–∫–æ —Å–æ–æ–±—â—É —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä—É, –Ω–æ –∏ –ø–æ—Ä–µ–∫–æ–º–µ–Ω–¥—É—é, –∫–∞–∫ –æ–¥–µ—Ç—å—Å—è, —á—Ç–æ–±—ã –≤—ã–≥–ª—è–¥–µ—Ç—å –±–µ–∑—É–ø—Ä–µ—á–Ω–æ!\n\n"
        "‚úÇÔ∏è –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –ø–æ —Å—Ç—Ä–∏–∂–∫–∞–º:\n"
        "–í–≤–µ–¥–∏—Ç–µ –∫–æ–º–∞–Ω–¥—É /hairstyle, –∏ —è –ø–æ–º–æ–≥—É –≤–∞–º –≤—ã–±—Ä–∞—Ç—å –∏–¥–µ–∞–ª—å–Ω—É—é —Å—Ç—Ä–∏–∂–∫—É –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç —Ñ–æ—Ä–º—ã –≤–∞—à–µ–≥–æ –ª–∏—Ü–∞. –í–º–µ—Å—Ç–µ –º—ã —Å–¥–µ–ª–∞–µ–º –≤–∞—Å –Ω–∞—Å—Ç–æ—è—â–µ–π –∏–∫–æ–Ω–æ–π —Å—Ç–∏–ª—è!\n\n"
        "üé® –¶–≤–µ—Ç–æ–≤—ã–µ —Å–æ–≤–µ—Ç—ã:\n"
        "–ï—Å–ª–∏ –≤—ã —Ö–æ—Ç–∏—Ç–µ —É–∑–Ω–∞—Ç—å, —Å –∫–∞–∫–∏–º —Ü–≤–µ—Ç–æ–º —Å–æ—á–µ—Ç–∞—Ç—å –æ–ø—Ä–µ–¥–µ–ª—ë–Ω–Ω—ã–π –æ—Ç—Ç–µ–Ω–æ–∫, –Ω–∞–ø–∏—à–∏—Ç–µ –∫–æ–º–∞–Ω–¥—É /color <—Ü–≤–µ—Ç>. –Ø –ø–æ–¥–µ–ª—é—Å—å —Å –≤–∞–º–∏ —Å—Ç–∏–ª—å–Ω—ã–º–∏ –∫–æ–º–±–∏–Ω–∞—Ü–∏—è–º–∏, —á—Ç–æ–±—ã –≤—ã —Å–≤–µ—Ä–∫–∞–ª–∏ –∫–∞–∫ –Ω–∞—Å—Ç–æ—è—â–∞—è –∑–≤–µ–∑–¥–∞!\n\n"
        "üõí –ü–æ–∏—Å–∫ —Ç–æ–≤–∞—Ä–æ–≤:\n"
        "–ñ–µ–ª–∞–µ—Ç–µ –Ω–∞–π—Ç–∏ —á—Ç–æ-—Ç–æ –æ—Å–æ–±–µ–Ω–Ω–æ–µ? –ù–∞–ø–∏—à–∏—Ç–µ /buy <–ø–æ–∏—Å–∫–æ–≤—ã–π –∑–∞–ø—Ä–æ—Å>, –∏ —è –Ω–∞–π–¥—É –¥–ª—è –≤–∞—Å —Å—Å—ã–ª–∫–∏ –Ω–∞ —Ç–æ–≤–∞—Ä—ã —Å –ø–æ–ø—É–ª—è—Ä–Ω—ã—Ö —Å–∞–π—Ç–æ–≤, —Ç–∞–∫–∏—Ö –∫–∞–∫ Ozon, Wildberries –∏ –º–Ω–æ–≥–∏—Ö –¥—Ä—É–≥–∏—Ö.\n\n"
        "ü§ù –ü–æ–º–æ—â–Ω–∏–∫–∏:\n"
        "–í–≤–µ–¥–∏—Ç–µ –∫–æ–º–∞–Ω–¥—É /ask, —á—Ç–æ–±—ã –æ–±—Ä–∞—Ç–∏—Ç—å—Å—è –∫ –º–æ–∏–º –≤–µ—Ä–Ω—ã–º –ø–æ–º–æ—â–Ω–∏–∫–∞–º, –∫–æ—Ç–æ—Ä—ã–µ –≤—Å–µ–≥–¥–∞ –≥–æ—Ç–æ–≤—ã –ø–æ–º–æ—á—å –≤–∞–º –≤ –ª—é–±—ã—Ö –≤–æ–ø—Ä–æ—Å–∞—Ö. –û–Ω–∏ –Ω–∞—Ö–æ–¥—è—Ç—Å—è –Ω–∞–≥–æ—Ç–æ–≤–µ, —á—Ç–æ–±—ã –æ—Ç–≤–µ—Ç–∏—Ç—å –Ω–∞ –≤–∞—à–∏ –∑–∞–ø—Ä–æ—Å—ã!\n\n"
        "üëó –£—Ö–æ–¥ –∑–∞ –æ–¥–µ–∂–¥–æ–π:\n"
        "–ù–µ –∑–Ω–∞–µ—Ç–µ, –∫–∞–∫ —É—Ö–∞–∂–∏–≤–∞—Ç—å –∑–∞ —Å–≤–æ–µ–π –æ–¥–µ–∂–¥–æ–π? –ù–∞–ø–∏—à–∏—Ç–µ /care <—Ç–∏–ø –æ–¥–µ–∂–¥—ã>, –∏ —è –¥–∞–º –≤–∞–º —Å–æ–≤–µ—Ç—ã, –∫–∞–∫ —Å–æ—Ö—Ä–∞–Ω–∏—Ç—å –≤–∞—à–∏ –≤–µ—â–∏ –≤ –∏–¥–µ–∞–ª—å–Ω–æ–º —Å–æ—Å—Ç–æ—è–Ω–∏–∏!\n\n"
        "üß¶ –ü–æ–¥—Å—á–µ—Ç –Ω–æ—Å–æ–∫:\n"
        "–í—ã —Ö–æ—Ç–∏—Ç–µ —Å–ª–µ–¥–∏—Ç—å –∑–∞ —Ç–µ–º, —Å–∫–æ–ª—å–∫–æ —Ä–∞–∑ –≤—ã –Ω–æ—Å–∏–ª–∏ —Ç—É –∏–ª–∏ –∏–Ω—É—é –æ–¥–µ–∂–¥—É? –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –∫–æ–º–∞–Ω–¥—É /counter, —á—Ç–æ–±—ã –ø–æ–¥—Å—á–∏—Ç–∞—Ç—å –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –Ω–æ—Å–æ–∫! –°–Ω–∞—á–∞–ª–∞ —É–∫–∞–∂–∏—Ç–µ —Ç–∏–ø –æ–¥–µ–∂–¥—ã —Å –ø–æ–º–æ—â—å—é –∫–æ–º–∞–Ω–¥—ã /type.\n\n"
        "üìÖ –ö–∞–ª–µ–Ω–¥–∞—Ä—å —Å—Ç–∏—Ä–∫–∏:\n"
        "–ò –Ω–µ –∑–∞–±—ã–≤–∞–π—Ç–µ –æ —Å—Ç–∏—Ä–∫–µ! –ö–æ–º–∞–Ω–¥–∞ /calendar –¥–∞—Å—Ç –≤–∞–º —Ä–∞—Å–ø–∏—Å–∞–Ω–∏–µ —Å—Ç–∏—Ä–∫–∏ –∏ —É—Ö–æ–¥–∞ –∑–∞ –≤–∞—à–∏–º–∏ –≤–µ—â–∞–º–∏ –Ω–∞ –≥–æ–¥ –≤–ø–µ—Ä—ë–¥.\n\n"
        "üíÅ‚Äç‚ôÇÔ∏è –ü–æ–º–Ω–∏—Ç–µ: —Å—Ç–∏–ª—å ‚Äî —ç—Ç–æ –Ω–µ —Ç–æ–ª—å–∫–æ –æ —Ç–æ–º, –∫–∞–∫ –≤—ã –≤—ã–≥–ª—è–¥–∏—Ç–µ, –Ω–æ –∏ –æ —Ç–æ–º, –∫–∞–∫ –≤—ã —Å–µ–±—è —á—É–≤—Å—Ç–≤—É–µ—Ç–µ. –ü–æ–∑–≤–æ–ª—å—Ç–µ –º–Ω–µ –ø–æ–º–æ—á—å –≤–∞–º —Å–æ–∑–¥–∞—Ç—å –≤–∞—à —É–Ω–∏–∫–∞–ª—å–Ω—ã–π —Å—Ç–∏–ª—å!\n\n"
        "‚ú® –ù–∞—á–∏–Ω–∞–π—Ç–µ –ø—Ä—è–º–æ —Å–µ–π—á–∞—Å –∏ –æ—Ç–∫—Ä–æ–π—Ç–µ –¥–ª—è —Å–µ–±—è –≤–æ–ª—à–µ–±–Ω—ã–π –º–∏—Ä –º–æ–¥—ã!‚ú®"
    )
def get_clothing_recommendations(temp):
    if temp >= 25:
        return ("–û, –∫–∞–∫ –∂–µ –∂–∞—Ä–∫–æ, –¥—É—à–∞ –º–æ—è! üåû\n"
                "- –î–ª—è –≤–µ—Ä—Ö–Ω–µ–π —á–∞—Å—Ç–∏ –≤—ã–±–µ—Ä–∏—Ç–µ –ª—ë–≥–∫—É—é —Ö–ª–æ–ø–∫–æ–≤—É—é —Ä—É–±–∞—à–∫—É –∏–ª–∏, –µ—Å–ª–∏ —Ö–æ—Ç–∏—Ç–µ, —Ñ—É—Ç–±–æ–ª–∫—É ‚Äî —á—Ç–æ-—Ç–æ –Ω–µ–≤–µ—Å–æ–º–æ–µ –∏ —Å—Ç—Ä—É—è—â–µ–µ—Å—è.\n"
                "- –ù–∏–∑: —à–æ—Ä—Ç–∏–∫–∏, —é–±–æ—á–∫–∞ –∏–ª–∏ –ª—ë–≥–∫–∏–µ –±—Ä—é–∫–∏, –∂–µ–ª–∞—Ç–µ–ª—å–Ω–æ –∏–∑ –ª—å–Ω–∞ –∏–ª–∏ —Ö–ª–æ–ø–∫–∞, —á—Ç–æ–±—ã –ø–æ–∑–≤–æ–ª–∏—Ç—å –∫–æ–∂–µ –¥—ã—à–∞—Ç—å!\n"
                "- –û–±—É–≤—å: –æ, –∑–¥–µ—Å—å —Ç–æ–ª—å–∫–æ —Å–∞–Ω–¥–∞–ª–∏–∏ –∏–ª–∏ –æ—Ç–∫—Ä—ã—Ç—ã–µ —Ç—É—Ñ–µ–ª—å–∫–∏, –Ω–∏—á—Ç–æ –Ω–µ –¥–æ–ª–∂–Ω–æ —Å—Ç–µ—Å–Ω—è—Ç—å –≤–∞—à–∏ —à–∞–≥–∏!\n"
                "- –ò, –∫–æ–Ω–µ—á–Ω–æ, –Ω–µ –∑–∞–±—É–¥—å—Ç–µ –ø—Ä–æ —à–ª—è–ø–∫—É –∏–ª–∏ —Å–æ–ª–Ω–µ—á–Ω—ã–µ –æ—á–∫–∏ ‚Äî —ç–ª–µ–≥–∞–Ω—Ç–Ω–æ—Å—Ç—å –ø—Ä–µ–∂–¥–µ –≤—Å–µ–≥–æ!")
    elif 15 <= temp < 25:
        return ("–ê—Ö, –∫–∞–∫ —á—É–¥–µ—Å–Ω–æ, —Ç–∞–∫–∞—è —Ç—ë–ø–ª–∞—è –ø–æ–≥–æ–¥–∞! üòä\n"
                "- –î–ª—è –≤–µ—Ä—Ö–Ω–µ–≥–æ —Å–ª–æ—è –∏–¥–µ–∞–ª—å–Ω–æ –ø–æ–¥–æ–π–¥—ë—Ç –ª—ë–≥–∫–∞—è —Ä—É–±–∞—à–∫–∞, —Ñ—É—Ç–±–æ–ª–∫–∞ —Å –¥–ª–∏–Ω–Ω—ã–º —Ä—É–∫–∞–≤–æ–º –∏–ª–∏ –∏–∑—è—â–Ω—ã–π —Å–≤–∏—Ç–µ—Ä–æ–∫. –ò –≤–µ—Ç—Ä–æ–≤–æ—á–∫–∞ –Ω–∞ —Å–ª—É—á–∞–π, –µ—Å–ª–∏ –≤–µ—Ç–µ—Ä–æ–∫ —Ä–µ—à–∏—Ç –ø–æ—à–∞–ª–∏—Ç—å!\n"
                "- –î–ª—è –Ω–∏–∑–∞: –±—Ä—é–∫–∏ –∏–ª–∏ –ª—ë–≥–∫–∏–µ –¥–∂–∏–Ω—Å—ã, –¥–∞-–¥–∞, —á—Ç–æ-—Ç–æ —É–¥–æ–±–Ω–æ–µ –∏ —Å—Ç–∏–ª—å–Ω–æ–µ.\n"
                "- –û–±—É–≤—å: –∫—Ä–æ—Å—Å–æ–≤–∫–∏ –∏–ª–∏ –ª—ë–≥–∫–∏–µ —Ç—É—Ñ–µ–ª—å–∫–∏ ‚Äî —à–∏–∫–∞—Ä–Ω–æ, –Ω–æ –±–µ–∑ –ø–µ—Ä–µ–≥—Ä–µ–≤–∞.\n"
                "- –ò, –∫–æ–Ω–µ—á–Ω–æ, –ª—ë–≥–∫–∏–π —à–∞—Ä—Ñ–∏–∫ –∏–ª–∏ –±–∞–Ω–¥–∞–Ω–∞ –¥–æ–±–∞–≤—è—Ç –Ω–æ—Ç–∫—É —É—Ç–æ–Ω—á—ë–Ω–Ω–æ—Å—Ç–∏.")
    elif 5 <= temp < 15:
        return ("–û, –∫–∞–∫ –ø—Ä–æ—Ö–ª–∞–¥–Ω–æ, –º–æ–π –¥—Ä—É–≥, –≤—Ä–µ–º—è —É–∫—É—Ç–∞—Ç—å—Å—è! üçÇ\n"
                "- –ù–∞—á–Ω–∏—Ç–µ —Å –ª—ë–≥–∫–æ–π —Ö–ª–æ–ø–∫–æ–≤–æ–π —Ñ—É—Ç–±–æ–ª–æ—á–∫–∏ –∏–ª–∏ —Ç–µ—Ä–º–æ–±–µ–ª—å—è ‚Äî –≥–ª–∞–≤–Ω–æ–µ, —á—Ç–æ–±—ã –≤–∞–º –±—ã–ª–æ —É—é—Ç–Ω–æ.\n"
                "- –ó–∞—Ç–µ–º –Ω–∞–∫–∏–Ω—å—Ç–µ —Ñ–ª–∏—Å–æ–≤—É—é –∫–æ—Ñ—Ç—É –∏–ª–∏ —Å–≤–∏—Ç–µ—Ä, –æ –¥–∞, —É—é—Ç–Ω–æ –∏ —Å—Ç–∏–ª—å–Ω–æ.\n"
                "- –î–ª—è –≤–µ—Ä—Ö–Ω–µ–≥–æ —Å–ª–æ—è –≤—ã–±–µ—Ä–∏—Ç–µ –ª—ë–≥–∫—É—é –∫—É—Ä—Ç–æ—á–∫—É –∏–ª–∏ –≤–µ—Ç—Ä–æ–≤–∫—É ‚Äî —á—É—Ç—å-—á—É—Ç—å –ø—Ä–æ—Ö–ª–∞–¥—ã, –Ω–æ –≤—Å—ë –∂–µ –¥–µ—Ä–∂–∏—Ç–µ —Ç–µ–ø–ª–æ —Ä—è–¥–æ–º!\n"
                "- –û–±—É–≤—å: –∫—Ä–æ—Å—Å–æ–≤–∫–∏ –∏–ª–∏ –±–æ—Ç–∏–Ω–∫–∏, —á—Ç–æ–±—ã –≤–∞—à —à–∞–≥ –æ—Å—Ç–∞–≤–∞–ª—Å—è –ª—ë–≥–∫–∏–º –∏ —É–≤–µ—Ä–µ–Ω–Ω—ã–º.\n"
                "- –ò –Ω–µ –∑–∞–±—É–¥—å—Ç–µ —à–∞–ø–æ—á–∫—É –∏–ª–∏ –ø–µ—Ä—á–∞—Ç–∫–∏, –µ—Å–ª–∏ —á—É–≤—Å—Ç–≤—É–µ—Ç–µ, —á—Ç–æ –≤–µ—Ç–µ—Ä –ø—ã—Ç–∞–µ—Ç—Å—è —Å—ã–≥—Ä–∞—Ç—å —Å –≤–∞–º–∏ –∑–ª—É—é —à—É—Ç–∫—É!")
    elif -5 <= temp < 5:
        return ("–û–≥–æ, —Ö–æ–ª–æ–¥–Ω–∞—è –ø–æ–≥–æ–¥–∞! ‚ùÑÔ∏è\n"
                "- –î–ª—è –ø–µ—Ä–≤–æ–≥–æ —Å–ª–æ—è –±–µ—Ä–∏—Ç–µ —Ç–µ—Ä–º–æ–±–µ–ª—å–µ, –¥—É—à–∞ –º–æ—è, —ç—Ç–æ –≤–∞—à–∞ –≤—Ç–æ—Ä–∞—è –∫–æ–∂–∞ —Å–µ–π—á–∞—Å.\n"
                "- –í—Ç–æ—Ä–æ–π —Å–ª–æ–π ‚Äî —É—é—Ç–Ω—ã–π —Å–≤–∏—Ç–µ—Ä –∏–ª–∏ —Ç–æ–ª—Å—Ç–æ–≤–∫–∞, –∏ –ø—É—Å—Ç—å —Ç–µ–ø–ª–æ –æ–∫—É—Ç—ã–≤–∞–µ—Ç –≤–∞—Å —Å –≥–æ–ª–æ–≤—ã –¥–æ –ø—è—Ç.\n"
                "- –ê –¥–ª—è –≤–µ—Ä—Ö–Ω–µ–≥–æ —Å–ª–æ—è ‚Äî —Ç–æ–ª—å–∫–æ –∫—É—Ä—Ç–∫–∞ –∏–ª–∏ –ø–∞–ª—å—Ç–æ, –∫–æ–Ω–µ—á–Ω–æ, —É—Ç–µ–ø–ª—ë–Ω–Ω—ã–µ.\n"
                "- –ù–∞ –Ω–æ–≥–∏ ‚Äî —Ç—ë–ø–ª—ã–µ –±–æ—Ç–∏–Ω–∫–∏ —Å –ø–æ–¥–∫–ª–∞–¥–∫–æ–π, —á—Ç–æ–±—ã –Ω–∏–∫–∞–∫–∏–µ –º–æ—Ä–æ–∑—ã –≤–∞—Å –Ω–µ –∑–∞—Å—Ç–∞–ª–∏ –≤—Ä–∞—Å–ø–ª–æ—Ö.\n"
                "- –ò, –ø–æ–∂–∞–ª—É–π—Å—Ç–∞, —à–∞–ø–æ—á–∫–∞, –ø–µ—Ä—á–∞—Ç–∫–∏ –∏ —à–∞—Ä—Ñ–∏–∫, —Å—Ç–∏–ª—å–Ω—ã–π, —Ä–∞–∑—É–º–µ–µ—Ç—Å—è. –ú—ã –∂–µ –¥–æ–ª–∂–Ω—ã –Ω–µ —Ç–æ–ª—å–∫–æ —Å–æ–≥—Ä–µ—Ç—å—Å—è, –Ω–æ –∏ –≤—ã–≥–ª—è–¥–µ—Ç—å –æ—Å–ª–µ–ø–∏—Ç–µ–ª—å–Ω–æ!")
    else:
        return ("–ê—Ö, –º–æ—Ä–æ–∑! ‚ùÑÔ∏è\n"
                "- –ü–µ—Ä–≤—ã–π —Å–ª–æ–π: —Ç–µ—Ä–º–æ–±–µ–ª—å–µ, —Å–∞–º–æ–µ —Ç—ë–ø–ª–æ–µ, —á—Ç–æ —É –≤–∞—Å –µ—Å—Ç—å!\n"
                "- –í—Ç–æ—Ä–æ–π —Å–ª–æ–π ‚Äî —á—Ç–æ-—Ç–æ –∏–∑ —Ñ–ª–∏—Å–∞ –∏–ª–∏ —à–µ—Ä—Å—Ç–∏, –≤—ã –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å –∫–∞–∫ –≤ –∫–æ–∫–æ–Ω–µ —Ç–µ–ø–ª–∞.\n"
                "- –ò, –∫–æ–Ω–µ—á–Ω–æ, —É–ª—å—Ç—Ä–∞—Ç—ë–ø–ª–∞—è –∫—É—Ä—Ç–∫–∞ –∏–ª–∏ –ø—É—Ö–æ–≤–∏–∫, —á—Ç–æ–±—ã –Ω–∏–∫–∞–∫–æ–π —Ö–æ–ª–æ–¥ –≤–∞—Å –Ω–µ –∫–æ—Å–Ω—É–ª—Å—è.\n"
                "- –ù–∞ –Ω–æ–≥–∏ —Ç–æ–ª—å–∫–æ —É—Ç–µ–ø–ª—ë–Ω–Ω—ã–µ —à—Ç–∞–Ω—ã –∏ –∑–∏–º–Ω–∏–µ –±–æ—Ç–∏–Ω–∫–∏.\n"
                "- –ê–∫—Å–µ—Å—Å—É–∞—Ä—ã? –î–∞, –¥–∞, —à–∞–ø–∫–∞, —Ç—ë–ø–ª—ã–π —à–∞—Ä—Ñ –∏ —Å–∞–º—ã–µ —Å—Ç–∏–ª—å–Ω—ã–µ –ø–µ—Ä—á–∞—Ç–∫–∏, —á—Ç–æ —É –≤–∞—Å –µ—Å—Ç—å!")

async def color_sovet(update: Update, context) -> None:
    if context.args:
        user_color = context.args[0].lower()
        color_combinations = {
            '–∫—Ä–∞—Å–Ω—ã–π': "—Å –±–µ–ª—ã–º, —á—ë—Ä–Ω—ã–º, —Å–µ—Ä—ã–º –∏–ª–∏ –¥–∞–∂–µ –∑–æ–ª–æ—Ç—ã–º ‚Äî –≤–æ—Å—Ö–∏—Ç–∏—Ç–µ–ª—å–Ω–∞—è –∏–≥—Ä–∞ –∫–æ–Ω—Ç—Ä–∞—Å—Ç–æ–≤, –¥–æ—Ä–æ–≥–∞—è!",
            '—Å–∏–Ω–∏–π': "—Å –±–µ–ª—ã–º, —Å–µ—Ä—ã–º, –±–µ–∂–µ–≤—ã–º –∏–ª–∏ –∂—ë–ª—Ç—ã–º ‚Äî –ø—Ä–æ—Å—Ç–æ –∫–æ—Ä–æ–ª–µ–≤—Å–∫–æ–µ —Å–æ—á–µ—Ç–∞–Ω–∏–µ, –¥–ª—è –∏—Å—Ç–∏–Ω–Ω—ã—Ö —ç—Å—Ç–µ—Ç–æ–≤!",
            '–∑–µ–ª—ë–Ω—ã–π': "—Å –±–µ–ª—ã–º, —á—ë—Ä–Ω—ã–º, –±–µ–∂–µ–≤—ã–º –∏–ª–∏ –∫–æ—Ä–∏—á–Ω–µ–≤—ã–º ‚Äî –Ω–∞—Ç—É—Ä–∞–ª—å–Ω–æ –∏ —Ä–æ—Å–∫–æ—à–Ω–æ –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ!",
            '—á—ë—Ä–Ω—ã–π': "—Å –±–µ–ª—ã–º, –∫—Ä–∞—Å–Ω—ã–º, –∑–æ–ª–æ—Ç—ã–º –∏–ª–∏ —Å–µ—Ä—ã–º ‚Äî –≤ —ç—Ç–∏—Ö —Ü–≤–µ—Ç–∞—Ö –≤—ã –±—É–¥–µ—Ç–µ –Ω–∞—Å—Ç–æ—è—â–µ–π –∏–∫–æ–Ω–æ–π —Å—Ç–∏–ª—è!",
            '–±–µ–ª—ã–π': "—Å —á—ë—Ä–Ω—ã–º, —Å–∏–Ω–∏–º, –∫—Ä–∞—Å–Ω—ã–º –∏–ª–∏ –∑–µ–ª—ë–Ω—ã–º ‚Äî —á–∏—Å—Ç–æ—Ç–∞ –∏ —ç–ª–µ–≥–∞–Ω—Ç–Ω–æ—Å—Ç—å –≤ –æ–¥–Ω–æ–º —Ñ–ª–∞–∫–æ–Ω–µ!",
            '–∂—ë–ª—Ç—ã–π': "—Å —Å–∏–Ω–∏–º, —á—ë—Ä–Ω—ã–º, —Å–µ—Ä—ã–º –∏–ª–∏ –±–µ–ª—ã–º ‚Äî —è—Ä–∫–æ –∏ —Å–æ–ª–Ω–µ—á–Ω–æ, –Ω–æ —Å–¥–µ—Ä–∂–∞–Ω–Ω–æ!",
            '—Ä–æ–∑–æ–≤—ã–π': "—Å –±–µ–ª—ã–º, —Å–µ—Ä—ã–º, –±–µ–∂–µ–≤—ã–º –∏–ª–∏ —á—ë—Ä–Ω—ã–º ‚Äî —Ç–∞–∫–∞—è –Ω–µ–∂–Ω–æ—Å—Ç—å –∏ –∑–∞–≥–∞–¥–æ—á–Ω–æ—Å—Ç—å, –º–º–º!",
            '–æ—Ä–∞–Ω–∂–µ–≤—ã–π': "—Å –±–µ–ª—ã–º, —á—ë—Ä–Ω—ã–º, —Å–µ—Ä—ã–º –∏–ª–∏ –±–µ–∂–µ–≤—ã–º ‚Äî —Å–æ—á–Ω–æ–µ —Å–æ—á–µ—Ç–∞–Ω–∏–µ –¥–ª—è —Ç–µ—Ö, –∫—Ç–æ –Ω–µ –±–æ–∏—Ç—Å—è –≤—ã–¥–µ–ª—è—Ç—å—Å—è!",
            '—Ñ–∏–æ–ª–µ—Ç–æ–≤—ã–π': "—Å –±–µ–ª—ã–º, —á—ë—Ä–Ω—ã–º, –∑–æ–ª–æ—Ç—ã–º –∏–ª–∏ —Å–µ—Ä—ã–º ‚Äî –≤–æ—Ç —á—Ç–æ –∑–Ω–∞—á–∏—Ç —Ü–∞—Ä—Å—Ç–≤–µ–Ω–Ω–∞—è —ç–ª–µ–≥–∞–Ω—Ç–Ω–æ—Å—Ç—å!",
            '–∫–æ—Ä–∏—á–Ω–µ–≤—ã–π': "—Å –±–µ–ª—ã–º, —á—ë—Ä–Ω—ã–º, –±–µ–∂–µ–≤—ã–º –∏–ª–∏ –∑–µ–ª—ë–Ω—ã–º ‚Äî –Ω–∞—Ç—É—Ä–∞–ª—å–Ω—ã–π, –Ω–æ —ç–ª–µ–≥–∞–Ω—Ç–Ω—ã–π –≤—ã–±–æ—Ä!",
            '—Å–µ—Ä—ã–π': "—Å —á—ë—Ä–Ω—ã–º, –±–µ–ª—ã–º, –∫—Ä–∞—Å–Ω—ã–º –∏–ª–∏ —Å–∏–Ω–∏–º ‚Äî –∞—Ö, —Å–¥–µ—Ä–∂–∞–Ω–Ω–æ, –Ω–æ —Å –≤–∫—É—Å–æ–º!"
        }
        sovet = color_combinations.get(user_color, "–ê—Ö, —ç—Ç–æ—Ç —Ü–≤–µ—Ç –º–Ω–µ –Ω–µ –∑–Ω–∞–∫–æ–º. –í–æ–∑–º–æ–∂–Ω–æ, —ç—Ç–æ –∫–∞–∫–æ–π-—Ç–æ –Ω–æ–≤—ã–π —Ç—Ä–µ–Ω–¥? –ü–æ–ø—Ä–æ–±—É–π—Ç–µ –¥—Ä—É–≥–æ–π —Ü–≤–µ—Ç, –¥–æ—Ä–æ–≥—É—à–∞!")
        await update.message.reply_text(f"{user_color.capitalize()} –ø—Ä–æ—Å—Ç–æ –∏–¥–µ–∞–ª—å–Ω–æ —Å–æ—á–µ—Ç–∞–µ—Ç—Å—è {sovet}")
    else:
        await update.message.reply_text("–û, –¥–æ—Ä–æ–≥—É—à–∞, —É–∫–∞–∂–∏—Ç–µ —Ü–≤–µ—Ç, –∏ —è —Ç—É—Ç –∂–µ —Ä–∞—Å—Å–∫–∞–∂—É, –∫–∞–∫ —Å –Ω–∏–º –∏–≥—Ä–∞—Ç—å!")

async def buy(update: Update, context) -> None:
    if context.args:
        search_zapros = ' '.join(context.args)
        otvet_message = "–ê—Ö, –¥–æ—Ä–æ–≥—É—à–∞, –∫–∞–∫–∏–µ –∑–∞–º–µ—á–∞—Ç–µ–ª—å–Ω—ã–µ –Ω–∞—Ö–æ–¥–∫–∏ —è –¥–ª—è –≤–∞—Å –ø–æ–¥–æ–±—Ä–∞–ª! –í–æ—Ç —Å—Å—ã–ª–∫–∏ –Ω–∞ –ª—É—á—à–∏–µ —Ç–æ–≤–∞—Ä—ã:\n"
        
        ozon_url = f"https://www.ozon.ru/search/?from_global=true&text={quote(search_zapros)}"
        otvet_message += f"Ozon: {ozon_url} ‚Äî –ø—Ä–æ—Å—Ç–æ –ø—Ä–µ–ª–µ—Å—Ç—å, –Ω–µ –ø—Ä–∞–≤–¥–∞ –ª–∏?\n"

        wildberries_url = f"https://www.wildberries.ru/catalog/0/search.aspx?search={quote(search_zapros)}"
        otvet_message += f"Wildberries: {wildberries_url} ‚Äî —à–∏–∫ –∏ –±–ª–µ—Å–∫, —É–≤–µ—Ä—è—é –≤–∞—Å!\n"
        
        aliexpress_url = f"https://www.aliexpress.com/wholesale?SearchText={quote(search_zapros)}"
        otvet_message += f"AliExpress: {aliexpress_url} ‚Äî –∞—Ö, –≤–æ—Å—Ç–æ—á–Ω—ã–µ —Å–æ–∫—Ä–æ–≤–∏—â–∞, –Ω–∏—á–µ–º –Ω–µ —Ö—É–∂–µ!\n"
        
        ebay_url = f"https://www.ebay.com/sch/i.html?_nkw={quote(search_zapros)}"
        otvet_message += f"eBay: {ebay_url} ‚Äî –∑–∞–≥—Ä–∞–Ω–∏—á–Ω—ã–µ —Ä–µ–¥–∫–æ—Å—Ç–∏, —è –±—ã —Å–∞–º –∫—É–ø–∏–ª!\n"

        yandex_market_url = f"https://market.yandex.ru/search?text={quote(search_zapros)}"
        otvet_message += f"–Ø–Ω–¥–µ–∫—Å.–ú–∞—Ä–∫–µ—Ç: {yandex_market_url} ‚Äî –æ—Ç–µ—á–µ—Å—Ç–≤–µ–Ω–Ω—ã–µ –∂–µ–º—á—É–∂–∏–Ω—ã, –ø—Ä–æ—Å—Ç–æ –∑–∞–≥–ª—è–¥–µ–Ω—å–µ!\n"

        await update.message.reply_text(otvet_message)
    else:
        await update.message.reply_text("–ê—Ö, –Ω—É –∫–æ–Ω–µ—á–Ω–æ, —É–∫–∞–∂–∏—Ç–µ, —á—Ç–æ –∏–º–µ–Ω–Ω–æ –∏—â–µ—Ç–µ, –∏ —è —Ç—É—Ç –∂–µ –Ω–∞–π–¥—É –¥–ª—è –≤–∞—Å –ª—É—á—à–µ–µ!")

async def ask_support(update: Update, context) -> None:
    yandex_gpt = "https://alice.yandex.ru/chat/0192aff2-9d82-4000-a1d1-e2cf9af8fa18/"
    gigachat = "https://giga.chat/gigachat/1bded0b7-630f-4f27-99ab-de8ed3a99a0d/home/agents/7101c625-42ab-45fe-b168-323970c12eba/sessions/5d00e996-8f35-49f7-9adc-623b2899cda2"

    otvet_message = (
        "–ê—Ö, –ø–æ–∑–≤–æ–ª—å—Ç–µ –ø—Ä–µ–¥—Å—Ç–∞–≤–∏—Ç—å –≤–∞–º –º–æ–∏—Ö –¥–≤—É—Ö –Ω–µ–∑–∞–º–µ–Ω–∏–º—ã—Ö –ø–æ–º–æ—â–Ω–∏–∫–æ–≤!\n\n"
        f"–ü–µ—Ä–≤—ã–π ‚Äî —ç—Ç–æ –∏–∑—ã—Å–∫–∞–Ω–Ω—ã–π –∏ —É—Ç–æ–Ω—á—ë–Ω–Ω—ã–π *Yandex GPT*. –í—Å–µ–≥–¥–∞ –≤ –∫—É—Ä—Å–µ –ø–æ—Å–ª–µ–¥–Ω–∏—Ö –Ω–æ–≤–∏–Ω–æ–∫ –∏ –ø—Ä–æ—Å—Ç–æ –Ω–µ–æ—Ç—Ä–∞–∑–∏–º –≤ –∞–Ω–∞–ª–∏—Ç–∏–∫–µ! –í–æ—Ç –µ–≥–æ –ø—Ä–∏–≥–ª–∞—à–µ–Ω–∏–µ: {yandex_gpt}\n\n"
        f"–ê –≤—Ç–æ—Ä–æ–π ‚Äî –º–æ–π –æ–±–≤–æ—Ä–æ–∂–∏—Ç–µ–ª—å–Ω—ã–π —ç–∫—Å–ø–µ—Ä—Ç –ø–æ –¥–∏–∞–ª–æ–≥–∞–º –∏ —à—É—Ç–∫–∞–º *GigaChat*! –ù–∏–∫–æ–≥–¥–∞ –Ω–µ –ø–æ–¥–≤–µ–¥—ë—Ç –≤ —Å–ª–æ–∂–Ω–æ–π —Å–∏—Ç—É–∞—Ü–∏–∏. –ó–∞–≥–ª—è–Ω–∏—Ç–µ –∫ –Ω–µ–º—É —Å—é–¥–∞: {gigachat}\n\n"
        "–û–Ω–∏ –æ–±–∞ –≤—Å–µ–≥–¥–∞ –≥–æ—Ç–æ–≤—ã –ø–æ–º–æ—á—å –≤–∞–º –≤ –ª—é–±–æ–º –≤–æ–ø—Ä–æ—Å–µ, –ø—Ä–æ—Å—Ç–æ –≤–æ—Å—Ö–∏—Ç–∏—Ç–µ–ª—å–Ω—ã–µ!")
    
    await update.message.reply_text(otvet_message, parse_mode='Markdown')

async def care_sovet(update: Update, context) -> None:
    if context.args:
        clothing_type = ' '.join(context.args).lower()
        stylist_intro = "‚ú® –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –ø–æ —á–∞—Å—Ç–æ—Ç–µ —Å—Ç–∏—Ä–∫–∏ –¥–ª—è —Ä–∞–∑–ª–∏—á–Ω—ã—Ö —Ç–∏–ø–æ–≤ –æ–¥–µ–∂–¥—ã –æ—Ç –≤–∞—à–µ–≥–æ –≤–µ—Ä–Ω–æ–≥–æ —Å—Ç–∏–ª–∏—Å—Ç–∞ –Æ–ª–∏–∞–Ω–∞! ‚ú®\n\n"
        recommendations = {
            '–Ω–∏–∂–Ω–µ–µ –±–µ–ª—å—ë': " ü©≤ üß¶ *–ù–∏–∂–Ω–µ–µ –±–µ–ª—å—ë –∏ –Ω–æ—Å–∫–∏*:\n\n"
                            "–ú–∏–ª—ã–µ –º–æ–∏, —ç—Ç–æ –ø–æ—Å–ª–µ –∫–∞–∂–¥–æ–≥–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è, –Ω–∏–∫–∞–∫–∏–µ –∫–æ–º–ø—Ä–æ–º–∏—Å—Å—ã! \n\n",
            '—Ñ—É—Ç–±–æ–ª–∫–∞': " üëï *–§—É—Ç–±–æ–ª–∫–∏ –∏ —Ä—É–±–∞—à–∫–∏*:\n\n"
                         "–ü–æ—Å–ª–µ 3 –Ω–æ—Å–æ–∫, –∏ –≤—ã –±—É–¥–µ—Ç–µ —Å–∏—è—Ç—å —Å–≤–µ–∂–µ—Å—Ç—å—é! \n\n",
            '—Ä—É–±–∞—à–∫–∞': " üëï *–§—É—Ç–±–æ–ª–∫–∏ –∏ —Ä—É–±–∞—à–∫–∏*:\n\n"
                        "–ü–æ—Å–ª–µ 3 –Ω–æ—Å–æ–∫, —Ç–æ–ª—å–∫–æ —Ç–∞–∫!\n\n",
            '–¥–∂–∏–Ω—Å—ã': " üëñ *–î–∂–∏–Ω—Å—ã*:\n\n"
                       "–ü—è—Ç—å –Ω–æ—Å–æ–∫, –∏ –º–æ–∂–Ω–æ –≤ —Å—Ç–∏—Ä–∫—É. –¢–æ–ª—å–∫–æ –Ω–µ –ø–µ—Ä–µ—É—Å–µ—Ä–¥—Å—Ç–≤—É–π—Ç–µ!\n\n",
            '—Å–ø–æ—Ä—Ç–∏–≤–Ω–∞—è –æ–¥–µ–∂–¥–∞': " üèãÔ∏è‚Äç‚ôÄÔ∏è *–°–ø–æ—Ä—Ç–∏–≤–Ω–∞—è –æ–¥–µ–∂–¥–∞*:\n\n"
                                  "–ü–æ—Å–ª–µ –∫–∞–∂–¥–æ–≥–æ —Ç—Ä–µ–Ω–∏–Ω–≥–∞ ‚Äî –Ω–∏ –≥—Ä–∞–º–º–∞ –ø–æ—Ç–∞ –Ω–µ –¥–æ–ª–∂–Ω–æ –æ—Å—Ç–∞—Ç—å—Å—è!\n\n",
            '–∫—É—Ä—Ç–∫–∞': " üß• *–ö—É—Ä—Ç–∫–∏ –∏ –ø–∞–ª—å—Ç–æ*:\n\n"
                       "–¢—É—Ç —É–∂–µ –ø–æ –º–µ—Ä–µ –∑–∞–≥—Ä—è–∑–Ω–µ–Ω–∏—è, –¥–∞-–¥–∞, –ø–æ —Å–∏—Ç—É–∞—Ü–∏–∏, –¥–æ—Ä–æ–≥–∏–µ –º–æ–∏!\n\n",
            '–ø–∞–ª—å—Ç–æ': " üß• *–ö—É—Ä—Ç–∫–∏ –∏ –ø–∞–ª—å—Ç–æ*:\n\n"
                       "–ü–æ –º–µ—Ä–µ –∑–∞–≥—Ä—è–∑–Ω–µ–Ω–∏—è, —Å—Ç–∏–ª—å –≤—Å–µ–≥–¥–∞ –Ω–∞ –ø–µ—Ä–≤–æ–º –º–µ—Å—Ç–µ!\n\n",
            '—Å–≤–∏—Ç–µ—Ä': " üß£ *–°–≤–∏—Ç–µ—Ä–∞*:\n\n"
                       "–ü—è—Ç—å –Ω–æ—Å–æ–∫, –∏ —Å–Ω–æ–≤–∞ –≤ –±–æ–π!\n\n",
            '–±—Ä—é–∫–∏': " üëñ *–®—Ç–∞–Ω—ã –∏ –±—Ä—é–∫–∏*:\n\n"
                      "–ü—è—Ç—å –Ω–æ—Å–æ–∫ ‚Äî –∏–¥–µ–∞–ª—å–Ω—ã–π –±–∞–ª–∞–Ω—Å!\n\n",
            '—à—Ç–∞–Ω—ã': " üëñ *–®—Ç–∞–Ω—ã –∏ –±—Ä—é–∫–∏*:\n\n"
                      "–ü–æ—Å–ª–µ –ø—è—Ç–∏ —Ä–∞–∑, –∏ –æ–Ω–∏ —Å–Ω–æ–≤–∞ –≥–æ—Ç–æ–≤—ã –∫ –ø—Ä–∏–∫–ª—é—á–µ–Ω–∏—è–º!\n\n",
            '–ø–æ—Å—Ç–µ–ª—å–Ω–æ–µ –±–µ–ª—å—ë': " üõèÔ∏è *–ü–æ—Å—Ç–µ–ª—å–Ω–æ–µ –±–µ–ª—å—ë –∏ –ø–æ–ª–æ—Ç–µ–Ω—Ü–∞*:\n\n"
                                "–†–∞–∑ –≤ –¥–≤–µ –Ω–µ–¥–µ–ª–∏, –∏ —Å–ª–∞–¥–∫–∏–µ —Å–Ω—ã –≥–∞—Ä–∞–Ω—Ç–∏—Ä–æ–≤–∞–Ω—ã!\n\n",
            '–ø–æ–ª–æ—Ç–µ–Ω—Ü–µ': " üõèÔ∏è *–ü–æ—Å—Ç–µ–ª—å–Ω–æ–µ –±–µ–ª—å—ë –∏ –ø–æ–ª–æ—Ç–µ–Ω—Ü–∞*:\n\n"
                          "–†–∞–∑ –≤ –¥–≤–µ –Ω–µ–¥–µ–ª–∏ ‚Äî –∑–∞–±–æ—Ç–∞ –æ —Å–µ–±–µ –Ω–∞ –≤—ã—Å—à–µ–º —É—Ä–æ–≤–Ω–µ!\n\n",
            '–æ–¥–µ—è–ª–æ':  "üõèÔ∏è *–û–¥–µ—è–ª–∞ –∏ –ø–æ–¥—É—à–∫–∏*:\n\n"
                       "–†–∞–∑ –≤ —à–µ—Å—Ç—å –º–µ—Å—è—Ü–µ–≤, –∏ –ø—É—Å—Ç—å –≤—Å—ë –±—É–¥–µ—Ç —É—é—Ç–Ω–æ!\n\n",
            '–ø–æ–¥—É—à–∫–∞':  "üõèÔ∏è *–û–¥–µ—è–ª–∞ –∏ –ø–æ–¥—É—à–∫–∏*:\n\n"
                        "–†–∞–∑ –≤ –ø–æ–ª–≥–æ–¥–∞, —á–∏—Å—Ç–æ—Ç–∞ ‚Äî –∑–∞–ª–æ–≥ —Ö–æ—Ä–æ—à–µ–≥–æ —Å–Ω–∞!\n\n",
            '—à–æ—Ä—Ç—ã': " ü©≥ *–®–æ—Ä—Ç—ã –∏ –ø–æ–¥—à—Ç–∞–Ω–Ω–∏–∫–∏*:\n\n"
                      "–¢—Ä–∏ –Ω–æ—Å–∫–∏, –∏ –æ–Ω–∏ —Å–Ω–æ–≤–∞ –≥–æ—Ç–æ–≤—ã –∫ –ø–æ–¥–≤–∏–≥–∞–º!\n\n",
            '–ø–æ–¥—à—Ç–∞–Ω–Ω–∏–∫–∏': " ü©≥ *–®–æ—Ä—Ç—ã –∏ –ø–æ–¥—à—Ç–∞–Ω–Ω–∏–∫–∏*:\n\n"
                           "–¢—Ä–∏ —Ä–∞–∑–∞, –∏ –æ–Ω–∏ –∫–∞–∫ –Ω–æ–≤—ã–µ!\n\n"
        }
        sovet = stylist_intro + recommendations.get(clothing_type, "–ê—Ö, –±–æ—é—Å—å, —è –Ω–µ –∑–Ω–∞—é, –∫–∞–∫ –∑–∞–±–æ—Ç–∏—Ç—å—Å—è –æ–± —ç—Ç–æ–º –ø—Ä–µ–¥–º–µ—Ç–µ –≥–∞—Ä–¥–µ—Ä–æ–±–∞. –ü–æ–ø—Ä–æ–±—É–π—Ç–µ —á—Ç–æ-—Ç–æ –¥—Ä—É–≥–æ–µ, –¥–æ—Ä–æ–≥—É—à–∞!")
        await update.message.reply_text(sovet, parse_mode='Markdown')
    else:
        await update.message.reply_text("–ü–æ–∂–∞–ª—É–π—Å—Ç–∞, —É–∫–∞–∂–∏—Ç–µ —Ç–∏–ø –æ–¥–µ–∂–¥—ã, –æ –∫–æ—Ç–æ—Ä–æ–π –≤—ã —Ö–æ—Ç–∏—Ç–µ —É–∑–Ω–∞—Ç—å, –∏ —è —Å —Ä–∞–¥–æ—Å—Ç—å—é –ø–æ–º–æ–≥—É!")
wearing_counter = {}
user_selection = {}
async def wearing_counter_method(update: Update, context) -> None:
    clothing_types = [
        "–Ω–∏–∂–Ω–µ–µ –±–µ–ª—å—ë",
        "—Ñ—É—Ç–±–æ–ª–∫–∞",
        "—Ä—É–±–∞—à–∫–∞",
        "–¥–∂–∏–Ω—Å—ã",
        "—Å–ø–æ—Ä—Ç–∏–≤–Ω–∞—è –æ–¥–µ–∂–¥–∞",
        "–∫—É—Ä—Ç–∫–∞",
        "–ø–∞–ª—å—Ç–æ",
        "—Å–≤–∏—Ç–µ—Ä",
        "–±—Ä—é–∫–∏",
        "—à—Ç–∞–Ω—ã",
        "–ø–æ—Å—Ç–µ–ª—å–Ω–æ–µ –±–µ–ª—å—ë",
        "–ø–æ–ª–æ—Ç–µ–Ω—Ü–µ",
        "–æ–¥–µ—è–ª–æ",
        "–ø–æ–¥—É—à–∫–∞",
        "—à–æ—Ä—Ç—ã",
        "–ø–æ–¥—à—Ç–∞–Ω–Ω–∏–∫–∏"
    ]
    if context.args:
        clothing_type_input = ' '.join(context.args).lower()
        if clothing_type_input in clothing_types:
            user_selection[update.effective_chat.id] = clothing_type_input  
            await update.message.reply_text("–û, –≥–ª—è–Ω—å—Ç–µ, –∫–∞–∫ –≤—ã —â–µ–≥–æ–ª—è–µ—Ç–µ! –¢–µ–ø–µ—Ä—å —É–∫–∞–∂–∏—Ç–µ –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–π —ç–ª–µ–º–µ–Ω—Ç –æ–¥–µ–∂–¥—ã (–Ω–∞–ø—Ä–∏–º–µ—Ä, '—Å–∏–Ω–∏–µ –±—Ä—é–∫–∏'). –ù–µ —Å—Ç–µ—Å–Ω—è–π—Ç–µ—Å—å, –Æ–ª–∏–∞–Ω –Ω–∞ –≤—Å—ë –≥–æ—Ç–æ–≤! üåü")
        else:
            await update.message.reply_text("–≠—Ö, —ç—Ç–æ –Ω–µ –ø–æ—Ö–æ–∂–µ –Ω–∞ —Ç–æ, —á—Ç–æ –º–æ–∂–Ω–æ –Ω–æ—Å–∏—Ç—å! –í—ã–±–∏—Ä–∞–π—Ç–µ –∏–∑:\n" + "\n".join(clothing_types))
    else:
        await update.message.reply_text("–•–º... –ü–æ–∂–∞–ª—É–π—Å—Ç–∞, —É–∫–∞–∂–∏—Ç–µ —Ç–∏–ø –æ–¥–µ–∂–¥—ã, –æ –∫–æ—Ç–æ—Ä–æ–º —Ä–µ—á—å. –Æ–ª–∏–∞–Ω –∂–¥–µ—Ç —Å –Ω–µ—Ç–µ—Ä–ø–µ–Ω–∏–µ–º! üé©")
async def add_wearing_count(update: Update, context) -> None:
    if update.effective_chat.id in user_selection:
        clothing_item = ' '.join(context.args)  
        clothing_type = user_selection[update.effective_chat.id]  
        key = f"{clothing_type}: {clothing_item}"
        if key in wearing_counter:
            wearing_counter[key] += 1
        else:
            wearing_counter[key] = 1
        otvet_message = "üé≠ –ò—Ç–∞–∫, –ø–æ—Å–ª—É—à–∞–π—Ç–µ, –º–æ–∏ –¥–æ—Ä–æ–≥–∏–µ! –¢–µ–∫—É—â–∏–π —Å—á–µ—Ç—á–∏–∫ –Ω–æ—Å–æ–∫:\n"
        for item, count in wearing_counter.items():
            otvet_message += f"{item} ‚Äî {count} –Ω–æ—Å–æ–∫(-–∫–∏). –ê—Ö, –∫–∞–∫ –∂–µ –≤–∞–º —ç—Ç–æ –ø–æ–¥—Ö–æ–¥–∏—Ç! üíÉüï∫\n"
        await update.message.reply_text(otvet_message)
        del user_selection[update.effective_chat.id]  
    else:
        await update.message.reply_text("–°–Ω–∞—á–∞–ª–∞ —É–∫–∞–∂–∏—Ç–µ —Ç–∏–ø –æ–¥–µ–∂–¥—ã, –∞ —Ç–æ –Æ–ª–∏–∞–Ω –∑–∞–ø—É—Ç–∞–µ—Ç—Å—è –≤ –≤–∞—à–∏—Ö —á–∞—Ä–∞—Ö! ‚ú®")
def main():
    application = Application.builder().token(TELEGRAM_API_KEY).build()
    application.add_handler(CommandHandler('hairstyle', recommend_hairstyle))  
    application.add_handler(CallbackQueryHandler(button))
    application.add_handler(CommandHandler("start", start))  
    application.add_handler(CommandHandler("weather", weather))  
    application.add_handler(CommandHandler("color", color_sovet))  
    application.add_handler(CommandHandler("buy", buy))  
    application.add_handler(CommandHandler("ask", ask_support))  
    application.add_handler(CommandHandler("care", care_sovet))  
    application.add_handler(CommandHandler("type", wearing_counter_method)) 
    application.add_handler(CommandHandler("counter", add_wearing_count))  
    application.add_handler(CommandHandler("calendar", raspisanie_stirok)) 
    
 
    application.run_polling()
async def raspisanie_stirok(update: Update, context) -> None:
    today = datetime.today()
    stirka = generate_raspisanie_stirok(today)
    otvet_message = "‚ú® –ö–∞–ª–µ–Ω–¥–∞—Ä—å —Å—Ç–∏—Ä–æ–∫ –∏ —É—Ö–æ–¥–∞ –Ω–∞ –≥–æ–¥, –æ—Ç –≤–∞—à–µ–≥–æ –≤–µ—Ä–Ω–æ–≥–æ —Å—Ç–∏–ª–∏—Å—Ç–∞ –Æ–ª–∏–∞–Ω–∞! ‚ú®\n\n"
    for item, dates in stirka.items():
        otvet_message += f"{item.capitalize()}:\n"
        for date in dates:
            otvet_message += f"  - {date} \n"
    await update.message.reply_text(otvet_message)
def generate_raspisanie_stirok(start_date):
    raspisanie_stirok = {}
    recommendations = {
        '–ø–æ—Å—Ç–µ–ª—å–Ω–æ–µ –±–µ–ª—å—ë –∏ –ø–æ–ª–æ—Ç–µ–Ω—Ü–∞': "–†–∞–∑ –≤ 2 –Ω–µ–¥–µ–ª–∏, —á—Ç–æ–±—ã –º–µ—á—Ç—ã –±—ã–ª–∏ —á–∏—Å—Ç—ã–º–∏ –∏ —Å–≤–µ–∂–∏–º–∏.",
        '–æ–¥–µ—è–ª–∞ –∏ –ø–æ–¥—É—à–∫–∏': "–†–∞–∑ –≤ 6 –º–µ—Å—è—Ü–µ–≤, —á—Ç–æ–±—ã –≤–∞—à–∏ —Å–Ω—ã –±—ã–ª–∏ —Å–∫–∞–∑–æ—á–Ω—ã–º–∏ –∏ —É—é—Ç–Ω—ã–º–∏.",
        '–ø–æ—Å–µ—â–µ–Ω–∏–µ –ø–∞—Ä–∏–∫–º–∞—Ö–µ—Ä—Å–∫–æ–π': "–†–∞–∑ –≤ –º–µ—Å—è—Ü, —á—Ç–æ–±—ã –≤—Å–µ–≥–¥–∞ –≤—ã–≥–ª—è–¥–µ—Ç—å –∫–∞–∫ –∏–∑—ã—Å–∫–∞–Ω–Ω—ã–π –ª–æ—Ä–¥ –∏–ª–∏ –ª–µ–¥–∏.",
        '–±—Ä–∏—Ç—å—ë': "–†–∞–∑ –≤ –Ω–µ–¥–µ–ª—é, —á—Ç–æ–±—ã –≤–∞—à–µ –ª–∏—Ü–æ —Å–∏—è–ª–æ –∫–∞–∫ —É—Ç—Ä–µ–Ω–Ω–µ–µ —Å–æ–ª–Ω—Ü–µ.",
        '—á–∏—Å—Ç–∫–∞ –Ω–æ–≥—Ç–µ–π –Ω–∞ —Ä—É–∫–∞—Ö': "–†–∞–∑ –≤ –Ω–µ–¥–µ–ª—é, —á—Ç–æ–±—ã –≤–∞—à–∏ —Ä—É–∫–∏ –±—ã–ª–∏ –∫–∞–∫ —É –∏–¥–µ–∞–ª—å–Ω–æ–≥–æ –∞—Ä—Ç–∏—Å—Ç–∞.",
        '—á–∏—Å—Ç–∫–∞ –Ω–æ–≥—Ç–µ–π –Ω–∞ –Ω–æ–≥–∞—Ö': "–†–∞–∑ –≤ 2 –Ω–µ–¥–µ–ª–∏, —á—Ç–æ–±—ã –¥–∞–∂–µ –≤–∞—à–∏ –Ω–æ–≥–∏ –±—ã–ª–∏ –≥–æ—Ç–æ–≤—ã –∫ –±–∞–ª—É."
    }
    for item, chastota in recommendations.items():
        raspisanie_data = []
        if "2 –Ω–µ–¥–µ–ª–∏" in chastota:
            interval = 14  
        elif "6 –º–µ—Å—è—Ü–µ–≤" in chastota:
            interval = 183  
        elif "–º–µ—Å—è—Ü" in chastota:
            interval = 30  
        elif "–Ω–µ–¥–µ–ª—é" in chastota:
            interval = 7  
        tekushaya_date = start_date
        while tekushaya_date <= start_date + timedelta(days=365):
            raspisanie_data.append(tekushaya_date.strftime("%Y-%m-%d"))
            tekushaya_date += timedelta(days=interval)
        raspisanie_stirok[item] =  raspisanie_data
    return raspisanie_stirok
if __name__ == '__main__':
    main()
